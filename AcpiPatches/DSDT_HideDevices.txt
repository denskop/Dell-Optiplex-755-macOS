# Add OSDW method
into scope label \ code_regex Name\s\(MSOS,\sZero\) insert
begin
Method (OSDW, 0, NotSerialized)
\n{\n
\nIf (CondRefOf (_OSI, Local0))
\n{
\n\tIf (_OSI ("Darwin"))
\n\t{
\n\t\tReturn (One)
\n\t}
\n\tElse
\n\t{
\n\t\tReturn (Zero)
\n\t}
\n}
\nElse
\n{
\n\tReturn (Zero)
\n}
\n}
end;

# Disable Floppy Drive
into method label _STA parent_label FDC code_regex If\s\(GCFD\s\(\)\) replaceall_matched
begin
If (LOr(GCFD (), OSDW()))
end;

# Disable Speaker
into device label SPK insert
begin
Method (_STA, 0, NotSerialized)
\n{
\nIf (OSDW())
\n{
\n\tReturn(Zero)
\n}
\nElse
\n{
\n\tReturn(0x0F)
\n}
\n}
end;

# Disable PS/2 Mouse
into method label _STA parent_label MOU code_regex If\s\(GCON\s\(\)\) replaceall_matched
begin
If (LAnd(GCON (), LNot(OSDW())))
end;